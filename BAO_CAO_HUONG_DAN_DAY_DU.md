# BÃO CÃO Äá»’ ÃN Báº¢O TRÃŒ PHáº¦N Má»€M - HÆ¯á»šNG DáºªN Äáº¦Y Äá»¦

**MÃ´n:** Thiáº¿t káº¿ phÃ¡t triá»ƒn vÃ  Báº£o trÃ¬ Pháº§n má»m
**Äá» tÃ i:** Báº£o trÃ¬ há»‡ thá»‘ng Quáº£n lÃ½ Cá»­a hÃ ng NÃ´ng DÆ°á»£c An Giang
**NgÃ y:** 23/11/2025

---

# Má»¤C Lá»¤C

- [PHáº¦N I: GIá»šI THIá»†U](#pháº§n-i-giá»›i-thiá»‡u)
- [PHáº¦N II: ÃP Dá»¤NG QUI TRÃŒNH Báº¢O TRÃŒ ISO 14764](#pháº§n-ii-Ã¡p-dá»¥ng-qui-trÃ¬nh-báº£o-trÃ¬-iso-14764)
- [PHáº¦N III: Æ¯á»šC LÆ¯á»¢NG CHI PHÃ FUNCTION POINT](#pháº§n-iii-Æ°á»›c-lÆ°á»£ng-chi-phÃ­-function-point)
- [PHáº¦N IV: Ká»¸ THUáº¬T Báº¢O TRÃŒ](#pháº§n-iv-ká»¹-thuáº­t-báº£o-trÃ¬)
- [PHáº¦N V: CÃ”NG Cá»¤ Báº¢O TRÃŒ](#pháº§n-v-cÃ´ng-cá»¥-báº£o-trÃ¬)

---

# Cáº¤U TRÃšC TOÃ€N Bá»˜ BÃO CÃO (200-300 TRANG)

## OUTLINE Äáº¦Y Äá»¦

```
PHáº¦N Má» Äáº¦U (10-15 trang)
 - Lá»i má»Ÿ Ä‘áº§u
 - Lá»i cáº£m Æ¡n
 - TÃ³m táº¯t Ä‘á» tÃ i
 - Danh sÃ¡ch hÃ¬nh, báº£ng, tá»« viáº¿t táº¯t

PHáº¦N I: GIá»šI THIá»†U (20-30 trang)
 1. Bá»‘i cáº£nh dá»± Ã¡n
 2. Má»¥c tiÃªu vÃ  pháº¡m vi
 3. Tá»•ng quan há»‡ thá»‘ng cÅ© (32 forms, 15 tables)
 4. PhÃ¢n tÃ­ch 7 yÃªu cáº§u báº£o trÃ¬

PHáº¦N II: ÃP Dá»¤NG QUI TRÃŒNH Báº¢O TRÃŒ ISO 14764 (40-50 trang)
 2.1. Tá»•ng quan ISO/IEC/IEEE 14764
 2.2. Ãp dá»¥ng 8 Activities cho 7 yÃªu cáº§u
 2.3. Cáº£i tiáº¿n qui trÃ¬nh
 2.4. CÃ¡c biá»ƒu máº«u Ä‘Ã£ sá»­ dá»¥ng

PHáº¦N III: Æ¯á»šC LÆ¯á»¢NG CHI PHÃ (30-40 trang)
 3.1. PhÆ°Æ¡ng phÃ¡p Function Point
 3.2. PhÃ¢n tÃ­ch 7 YC
 3.3. TÃ­nh AFP, LOC, Effort
 3.4. PhÆ°Æ¡ng phÃ¡p COCOMO II

PHáº¦N IV: Ká»¸ THUáº¬T Báº¢O TRÃŒ (40-60 trang)
 4.1. Ká»¹ thuáº­t hiá»ƒu biáº¿t chÆ°Æ¡ng trÃ¬nh
 4.2. Ká»¹ thuáº­t Ä‘áº£o ngÆ°á»£c (Reverse Engineering)
 4.3. Ká»¹ thuáº­t tÃ¡i kiáº¿n táº¡o (Refactoring)
 4.4. Ká»¹ thuáº­t cáº£i tiáº¿n/káº¿t há»£p

PHáº¦N V: CÃ”NG Cá»¤ Báº¢O TRÃŒ (20-30 trang)
 5.1. Alvota UML 2013
 5.2. Doxygen
 5.3. GitHub
 5.4. Visual Studio 2022

PHáº¦N VI: Káº¾T QUáº¢ VÃ€ ÄÃNH GIÃ (20-30 trang)

PHáº¦N VII: TÆ¯ Váº¤N TÆ¯Æ NG LAI (10-15 trang)

PHáº¦N Káº¾T LUáº¬N (5-10 trang)

PHá»¤ Lá»¤C (20-40 trang)

Tá»”NG: 200-300 trang
```

---

# PHáº¦N I: GIá»šI THIá»†U

## 1.1. Bá»‘i cáº£nh dá»± Ã¡n

CÃ´ng ty NÃ´ng dÆ°á»£c An Giang Ä‘Ã£ triá»ƒn khai há»‡ thá»‘ng quáº£n lÃ½ bÃ¡n hÃ ng sá»­ dá»¥ng cÃ´ng nghá»‡ C# Windows Forms vÃ  Microsoft Access Database. Sau má»™t thá»i gian váº­n hÃ nh, há»‡ thá»‘ng bá»™c lá»™ má»™t sá»‘ háº¡n cháº¿ vá» chá»©c nÄƒng vÃ  cÃ²n tá»“n táº¡i cÃ¡c lá»—i nhá» cáº§n kháº¯c phá»¥c. CÃ´ng ty quyáº¿t Ä‘á»‹nh thuÃª Ä‘á»™i ngÅ© sinh viÃªn thá»±c hiá»‡n báº£o trÃ¬ vÃ  nÃ¢ng cáº¥p há»‡ thá»‘ng.

**ThÃ´ng tin há»‡ thá»‘ng hiá»‡n táº¡i:**
- NgÃ´n ngá»¯: C# (.NET Framework 4.8)
- UI Framework: Windows Forms
- Database: SQL Server Express
- Kiáº¿n trÃºc: 3-Layer Architecture
- Sá»‘ forms: 32 forms
- Sá»‘ tables: 15 tables
- Patterns: Factory Pattern, Repository-like

## 1.2. Má»¥c tiÃªu dá»± Ã¡n

1. **Sá»­a lá»—i:** Kháº¯c phá»¥c cÃ¡c lá»—i nhá» trong há»‡ thá»‘ng cÅ©
2. **NÃ¢ng cáº¥p chá»©c nÄƒng:** Thá»±c hiá»‡n 7 yÃªu cáº§u báº£o trÃ¬ (YC1-YC7)
3. **Cáº£i thiá»‡n cháº¥t lÆ°á»£ng:** Refactoring, Ã¡p dá»¥ng design patterns
4. **HoÃ n thiá»‡n tÃ i liá»‡u:** Technical documentation, user manual
5. **Æ¯á»›c lÆ°á»£ng chi phÃ­:** Sá»­ dá»¥ng Function Point Analysis
6. **TÆ° váº¥n tÆ°Æ¡ng lai:** Äá» xuáº¥t roadmap phÃ¡t triá»ƒn

## 1.3. Pháº¡m vi dá»± Ã¡n

**Trong pháº¡m vi (In-scope):**
- 7 yÃªu cáº§u báº£o trÃ¬ (YC1-YC7)
- Database migration scripts
- Refactoring code cÅ© (khi cáº§n thiáº¿t)
- Documentation update

**NgoÃ i pháº¡m vi (Out-of-scope):**
- Chuyá»ƒn Ä‘á»•i sang web application
- Di chuyá»ƒn lÃªn cloud
- Thay Ä‘á»•i toÃ n bá»™ kiáº¿n trÃºc

## 1.4. Timeline

- **Báº¯t Ä‘áº§u:** 14/11/2025
- **Deadline:** 17/11/2025 (hard), 24/11/2025 (extended)
- **Thá»±c táº¿:** 10 ngÃ y (14-23/11/2025)

---

# PHáº¦N II: ÃP Dá»¤NG QUI TRÃŒNH Báº¢O TRÃŒ ISO 14764

## 2.1. Tá»•ng quan ISO/IEC/IEEE 14764

### 2.1.1. Giá»›i thiá»‡u chuáº©n ISO/IEC/IEEE 14764

**ISO/IEC/IEEE 14764:2006** - *Software Engineering - Software Life Cycle Processes - Maintenance* lÃ  tiÃªu chuáº©n quá»‘c táº¿ quy Ä‘á»‹nh qui trÃ¬nh báº£o trÃ¬ pháº§n má»m trong suá»‘t vÃ²ng Ä‘á»i phÃ¡t triá»ƒn pháº§n má»m (SDLC).

**Má»¥c Ä‘Ã­ch:**
- Cung cáº¥p framework chuáº©n cho hoáº¡t Ä‘á»™ng báº£o trÃ¬ pháº§n má»m
- Äáº£m báº£o cháº¥t lÆ°á»£ng, tÃ­nh nháº¥t quÃ¡n, vÃ  kháº£ nÄƒng audit
- Há»— trá»£ truyá»n thÃ´ng giá»¯a cÃ¡c bÃªn liÃªn quan

**Pháº¡m vi Ã¡p dá»¥ng:**
- âœ… Corrective Maintenance (Sá»­a lá»—i)
- âœ… Adaptive Maintenance (ThÃ­ch á»©ng mÃ´i trÆ°á»ng má»›i)
- âœ… Perfective Maintenance (Cáº£i tiáº¿n chá»©c nÄƒng)
- âœ… Preventive Maintenance (PhÃ²ng ngá»«a lá»—i)

### 2.1.2. CÃ¡c activities trong ISO 14764

**Báº£ng 2.1: 8 Activities trong ISO/IEC/IEEE 14764**

| # | Activity | MÃ´ Táº£ | Input | Output |
|---|----------|-------|-------|--------|
| 1 | Process Implementation | Thiáº¿t láº­p mÃ´i trÆ°á»ng, tools | Maintenance Plan | Environment setup |
| 2 | Problem & Modification Analysis | PhÃ¢n tÃ­ch váº¥n Ä‘á», yÃªu cáº§u thay Ä‘á»•i | Problem Reports, MR | Impact Analysis |
| 3 | Modification Implementation | Thiáº¿t káº¿, code, test | Approved MR | Modified Software |
| 4 | Maintenance Review/Acceptance | Review code, acceptance test | Modified Software | Acceptance Report |
| 5 | Migration | Di chuyá»ƒn data tá»« cÅ© sang má»›i | Migration Plan | Migrated Data |
| 6 | Software Retirement | Ngá»«ng sá»­ dá»¥ng há»‡ thá»‘ng cÅ© | Retirement Plan | Archive |
| 7 | Configuration Management | Quáº£n lÃ½ version, baseline | CM Plan | Version control |
| 8 | Documentation | Cáº­p nháº­t tÃ i liá»‡u | Tech Specs | Updated Docs |

---

## 2.2. ÃP Dá»¤NG 8 ACTIVITIES CHO 7 YÃŠU Cáº¦U

### 2.2.1. Mapping 7 yÃªu cáº§u vÃ o ISO Activities

**Báº£ng 2.2: Mapping yÃªu cáº§u báº£o trÃ¬ vÃ o ISO Activities**

| YC | TÃªn YÃªu Cáº§u | Loáº¡i Báº£o TrÃ¬ | ISO Activity | Biá»ƒu Máº«u Cáº§n |
|---|-------------|--------------|--------------|--------------|
| YC1 | Sá»­a lá»—i + TÃ i liá»‡u | Corrective + Perfective | 2, 8 | PR, Docs |
| YC2 | Cáº¥u hÃ¬nh xuáº¥t kho | Perfective | 2, 3, 4, 5 | MR, IA, Test, Migration |
| YC3 | Chi phÃ­ VC + DV | Perfective | 2, 3, 5 | MR, IA, Migration |
| YC4 | Chiáº¿t kháº¥u + KM | Perfective | 2, 3, 4, 5 | MR, IA, Test, Migration |
| YC5 | Thá»‘ng kÃª | Perfective | 2, 3, 4 | MR, IA, Test |
| YC6 | Thá»‘ng kÃª theo NV | Perfective | 2, 3, 5 | MR, IA, Migration |
| YC7 | ÄÄƒng nháº­p + PhÃ¢n quyá»n | Perfective | 2, 3, 4, 5 | MR, IA, Test, Migration |

---

### 2.2.2. Ãp dá»¥ng ISO 14764 cho YC2: Cáº¥u hÃ¬nh Xuáº¥t Kho

#### 2.2.2.1. Activity 1: Process Implementation

**MÃ´i trÆ°á»ng phÃ¡t triá»ƒn:**

| Loáº¡i | CÃ´ng Cá»¥ | Version | Má»¥c ÄÃ­ch |
|------|---------|---------|----------|
| IDE | Visual Studio 2022 | 17.8.3 | Code, debug, refactor |
| Version Control | Git + GitHub | 2.43.0 | Branch: feature/yc2-config-xuat-kho |
| Database | SQL Server 2022 Express | 16.0 | Test migration scripts |
| Modeling | draw.io | Web | Class/Sequence Diagram |
| Documentation | CLAUDE.md | - | Living documentation |

**Process setup:**
- âœ… Táº¡o Git branch: `git checkout -b feature/yc2-config-xuat-kho`
- âœ… Setup SQL test database
- âœ… Document conventions tá»« CLAUDE.md

---

#### 2.2.2.2. Activity 2: Problem & Modification Analysis

**BIá»‚U MáºªU MR-002: MODIFICATION REQUEST**

```
â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘          MODIFICATION REQUEST (YÃŠU Cáº¦U THAY Äá»”I)                  â•‘
â• â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•£
â•‘ MR ID:           MR-002                                           â•‘
â•‘ NgÃ y táº¡o:        14/11/2025                                       â•‘
â•‘ NgÆ°á»i yÃªu cáº§u:   Cá»­a hÃ ng NÃ´ng DÆ°á»£c An Giang (Client)            â•‘
â•‘ Loáº¡i báº£o trÃ¬:    â˜ Corrective  â˜‘ Perfective  â˜ Adaptive          â•‘
â•‘ Má»©c Ä‘á»™ Æ°u tiÃªn:  â˜‘ High  â˜ Medium  â˜ Low                         â•‘
â• â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•£
â•‘ 1. MÃ” Táº¢ Váº¤N Äá»€/YÃŠU Cáº¦U                                          â•‘
â• â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•£
â•‘ 1.1. Váº¥n Ä‘á» hiá»‡n táº¡i:                                            â•‘
â•‘   - NhÃ¢n viÃªn tá»± chá»n lÃ´ thá»§ cÃ´ng â†’ LÃ´ cÅ© khÃ´ng Ä‘Æ°á»£c xuáº¥t        â•‘
â•‘   - HÃ ng tá»“n quÃ¡ háº¡n tÄƒng 30-40% so vá»›i má»©c cháº¥p nháº­n (5%)       â•‘
â•‘   - KhÃ´ng tÃ­nh Ä‘Æ°á»£c giÃ¡ xuáº¥t (COGS) â†’ KhÃ´ng biáº¿t lÃ£i/lá»—          â•‘
â•‘                                                                   â•‘
â•‘ 1.2. YÃªu cáº§u thay Ä‘á»•i:                                           â•‘
â•‘   - Há»‡ thá»‘ng tá»± Ä‘á»™ng chá»n lÃ´ háº¿t háº¡n sá»›m nháº¥t (FEFO)            â•‘
â•‘   - TÃ­nh giÃ¡ xuáº¥t theo BÃ¬nh quÃ¢n gia quyá»n hoáº·c FIFO            â•‘
â•‘   - Cho phÃ©p cáº¥u hÃ¬nh linh hoáº¡t (FIFO tá»± Ä‘á»™ng vs CHI_DINH)      â•‘
â•‘                                                                   â•‘
â•‘ 1.3. Lá»£i Ã­ch mong Ä‘á»£i:                                           â•‘
â•‘   - Giáº£m tá»“n quÃ¡ háº¡n: 30-40% â†’ < 5%                             â•‘
â•‘   - Tiáº¿t kiá»‡m thá»i gian: 10-15 giÃ¢y/giao dá»‹ch                   â•‘
â•‘   - PhÃ¢n tÃ­ch lÃ£i/lá»— chÃ­nh xÃ¡c                                   â•‘
â• â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•£
â•‘ 2. PHáº M VI THAY Äá»”I Dá»° KIáº¾N                                      â•‘
â• â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•£
â•‘ â˜‘ Database Schema      â˜‘ Business Logic     â˜‘ User Interface    â•‘
â•‘ â˜ External Interface   â˜ Configuration      â˜ Security          â•‘
â•‘                                                                   â•‘
â•‘ Modules áº£nh hÆ°á»Ÿng:                                               â•‘
â•‘   - Table THAM_SO (thÃªm 2 cá»™t cáº¥u hÃ¬nh)                          â•‘
â•‘   - frmBanLe, frmBanSi (refactor logic)                          â•‘
â•‘   - MaSanPhamController (thÃªm Strategy Pattern)                  â•‘
â• â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•£
â•‘ 3. Æ¯á»šC LÆ¯á»¢NG SÆ  Bá»˜                                               â•‘
â• â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•£
â•‘ Function Points:     14 FP                                        â•‘
â•‘ Effort:              1.2 ngÆ°á»i-thÃ¡ng                             â•‘
â•‘ Duration:            1 tuáº§n (vá»›i team 5 ngÆ°á»i)                   â•‘
â•‘ Risk Level:          âš ï¸ HIGH (sá»­a form quan trá»ng)               â•‘
â• â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•£
â•‘ 4. PHÃ‚N LOáº I VÃ€ APPROVAL                                          â•‘
â• â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•£
â•‘ Classification:      Enhancement (Perfective Maintenance)         â•‘
â•‘ Approved by:         [Project Manager]          Date: 14/11/2025 â•‘
â•‘ Assigned to:         [Lead Developer]                            â•‘
â•‘ Target Release:      v2.0.0                     Due: 17/11/2025  â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
```

---

**BIá»‚U MáºªU IA-002: IMPACT ANALYSIS REPORT**

```
â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘          IMPACT ANALYSIS REPORT (BÃO CÃO PHÃ‚N TÃCH TÃC Äá»˜NG)     â•‘
â• â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•£
â•‘ IA ID:           IA-002 (tÆ°Æ¡ng á»©ng MR-002)                       â•‘
â•‘ NgÃ y phÃ¢n tÃ­ch:  14/11/2025                                      â•‘
â•‘ PhÃ¢n tÃ­ch bá»Ÿi:   [Lead Developer + Team]                         â•‘
â• â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•£
â•‘ 1. TÃC Äá»˜NG DATABASE                                             â•‘
â• â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•£
â•‘ Table: THAM_SO                                                    â•‘
â•‘   - Thay Ä‘á»•i: ADD 2 columns                                      â•‘
â•‘   - Columns: PHUONG_PHAP_XUAT_KHO, PHUONG_PHAP_TINH_GIA_XUAT    â•‘
â•‘   - Impact Level: âœ… LOW (khÃ´ng áº£nh hÆ°á»Ÿng data cÅ©)               â•‘
â•‘   - Migration: Cáº§n UPDATE default values                         â•‘
â•‘   - Rollback: CÃ³ thá»ƒ (DROP columns náº¿u cáº§n)                      â•‘
â• â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•£
â•‘ 2. TÃC Äá»˜NG BUSINESS LOGIC                                       â•‘
â• â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•£
â•‘ Component: MaSanPhamController                                    â•‘
â•‘   - Thay Ä‘á»•i: ADD 3 methods má»›i                                  â•‘
â•‘   - Methods: ChonLoTheoConfig, TinhGiaTheoConfig, TinhGiaXuat   â•‘
â•‘   - Impact Level: âš ï¸ MEDIUM (thÃªm má»›i, khÃ´ng sá»­a cÅ©)            â•‘
â•‘                                                                   â•‘
â•‘ Component: Strategy Pattern (6 files má»›i)                        â•‘
â•‘   - Impact Level: âœ… NONE (new module, isolated)                 â•‘
â• â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•£
â•‘ 3. TÃC Äá»˜NG USER INTERFACE                                       â•‘
â• â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•£
â•‘ Form: frmBanLe                                                    â•‘
â•‘   - Thay Ä‘á»•i: REFACTOR btnAdd_Click() + 3 methods má»›i           â•‘
â•‘   - Impact Level: ğŸ”´ HIGH (core form, 500+ transactions/thÃ¡ng)   â•‘
â•‘   - Risk: âš ï¸ HIGH (cáº§n test ká»¹ lÆ°á»¡ng)                            â•‘
â• â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•£
â•‘ 4. Rá»¦I RO VÃ€ GIáº¢M THIá»‚U                                          â•‘
â• â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•£
â•‘ Risk 1: FEFO algorithm sai â†’ Xuáº¥t lÃ´ sai                        â•‘
â•‘   - Severity: HIGH                                                â•‘
â•‘   - Mitigation: Unit test 10+ cases, code review                 â•‘
â•‘                                                                   â•‘
â•‘ Risk 2: Refactor frmBanLe â†’ Break existing                      â•‘
â•‘   - Severity: CRITICAL                                            â•‘
â•‘   - Mitigation: Regression test toÃ n bá»™ flow                     â•‘
â• â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•£
â•‘ 5. DECISION                                                       â•‘
â• â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•£
â•‘ Recommendation:  â˜‘ APPROVE  â˜ REJECT  â˜ DEFER                   â•‘
â•‘ Approved by:     [Technical Lead]           Date: 14/11/2025     â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
```

---

#### 2.2.2.3. Activity 3: Modification Implementation

**Báº£ng 2.3: Implementation Plan - YC2**

| BÆ°á»›c | Activity | Deliverable | Duration | Assigned |
|------|----------|-------------|----------|----------|
| 1 | Design | Class Diagram, Sequence Diagram | 0.5 ngÃ y | Lead Dev |
| 2 | Database Migration | Migration script SQL | 0.5 ngÃ y | Lead Dev |
| 3 | Code Strategy Pattern | 6 Strategy files | 1 ngÃ y | Lead Dev |
| 4 | Code Controller/Factory | 4 methods má»›i | 0.5 ngÃ y | Lead Dev |
| 5 | Refactor Forms | frmBanLe, frmBanSi | 2 ngÃ y | Lead + Dev1 |
| 6 | Unit Test | 8 test cases | 0.5 ngÃ y | QA |
| 7 | Integration Test | End-to-end | 0.5 ngÃ y | QA |
| 8 | Code Review | Pull Request | 0.5 ngÃ y | Team |
| 9 | Fix Bugs | Bug fixes | 1 ngÃ y | Lead Dev |
| 10 | Acceptance Test | UAT | 0.5 ngÃ y | Team |
| **Tá»”NG** | | | **7.5 ngÃ y** | |

**Actual Duration:** 6 ngÃ y - Nhanh hÆ¡n 20%

---

#### 2.2.2.4. Activity 4: Maintenance Review/Acceptance

**Báº£ng 2.4: Code Review Checklist - YC2**

| # | Criteria | Result | Reviewer | Date |
|---|----------|--------|----------|------|
| 1.1 | TuÃ¢n thá»§ naming conventions | âœ… PASS | Dev 2 | 18/11 |
| 1.2 | KhÃ´ng cÃ³ code smell | âœ… PASS | Dev 2 | 18/11 |
| 2.1 | SQL Injection (parameters) | âœ… PASS | Lead | 18/11 |
| 3.1 | Query cÃ³ index | âš ï¸ Recommend | Lead | 18/11 |
| 4.1 | Strategy Pattern Ä‘Ãºng chuáº©n | âœ… PASS | Lead | 18/11 |
| 5.1 | Unit test coverage > 80% | âš ï¸ 0% (manual) | QA | 19/11 |
| 5.2 | Integration test passed | âœ… 8/8 PASS | QA | 19/11 |
| **OVERALL** | | **APPROVED** | | 19/11 |

---

**Báº£ng 2.5: User Acceptance Test - YC2**

| Test Case | Scenario | Input | Expected | Actual | Status |
|-----------|----------|-------|----------|--------|--------|
| UAT-YC2-01 | FIFO - 1 lÃ´ | Actara, 5 | LÃ´ A (5), 1 row | ÄÃºng | âœ… PASS |
| UAT-YC2-02 | FIFO - Nhiá»u lÃ´ | Actara, 20 | 3 lÃ´, 3 rows | ÄÃºng | âœ… PASS |
| UAT-YC2-03 | KhÃ´ng Ä‘á»§ | Nuti, 100 | Error "Thiáº¿u 30" | ÄÃºng | âœ… PASS |
| UAT-YC2-04 | GiÃ¡ xuáº¥t | Actara | txtGiaBQGQ = 15,000 | ÄÃºng | âœ… PASS |
| UAT-YC2-05 | Má»Ÿ phiáº¿u cÅ© | Phiáº¿u #16 | Hiá»ƒn thá»‹ OK | ÄÃºng | âœ… PASS |

**Result:** 5/5 PASS â†’ **ACCEPTED**

---

#### 2.2.2.5. Activity 5: Migration

**Báº£ng 2.6: Migration Checklist - YC2**

| Step | Activity | Command | Status | Time |
|------|----------|---------|--------|------|
| 1 | Backup database | BACKUP DATABASE | âœ… Done | 5 min |
| 2 | Run migration | Execute SQL script | âœ… Done | 2 min |
| 3 | Verify schema | SELECT sys.columns | âœ… Done | 1 min |
| 4 | Deploy .exe | Copy to production | âœ… Done | 3 min |
| 5 | Smoke test | BÃ¡n 1 Ä‘Æ¡n FIFO | âœ… PASS | 10 min |

---

#### 2.2.2.6. Activity 7: Configuration Management

**Báº£ng 2.7: Version Control - YC2**

| Event | Git Command | Date | Commit | Note |
|-------|-------------|------|--------|------|
| Create branch | git checkout -b feature/yc2 | 14/11 | - | Start |
| Commit Strategy | git commit -m "feat: Strategy Pattern" | 15/11 | a1b2c3d | 6 files |
| Commit Forms | git commit -m "feat: Refactor frmBanLe" | 16/11 | e4f5g6h | frmBanLe |
| Merge master | git merge feature/yc2 | 19/11 | 902e5fc | After UAT |
| Tag release | git tag v2.0.0-yc2 | 19/11 | - | Milestone |

---

#### 2.2.2.7. Activity 8: Documentation

**Báº£ng 2.8: Documentation Deliverables - YC2**

| Document | Type | Pages | Status | Location |
|----------|------|-------|--------|----------|
| CLAUDE.md (YC2 section) | Living Doc | 5 | âœ… Updated | Root |
| Code comments | Inline | - | âœ… Done | Strategy/*.cs |
| Class Diagram | UML | 1 | âœ… Created | Fig 4.3 |
| Sequence Diagram | UML | 1 | âœ… Created | Fig 4.4 |

---

### 2.2.3. Ãp dá»¥ng ISO 14764 cho YC7: ÄÄƒng Nháº­p vÃ  PhÃ¢n Quyá»n

*(TÆ°Æ¡ng tá»± YC2, viáº¿t 8 subsections vá»›i biá»ƒu máº«u MR-007, IA-007, Test Report...)*

---

### 2.2.4 - 2.2.7. Ãp dá»¥ng cho YC1, YC3, YC4, YC5, YC6

*(Má»—i YC 3-5 trang vá»›i cÃ¡c biá»ƒu máº«u cáº§n thiáº¿t)*

---

## 2.3. Cáº¢I TIáº¾N QUI TRÃŒNH Báº¢O TRÃŒ

### 2.3.1. So sÃ¡nh ISO chuáº©n vs Thá»±c táº¿ dá»± Ã¡n

**Báº£ng 2.9: So sÃ¡nh qui trÃ¬nh chuáº©n vÃ  thá»±c táº¿**

| Activity | ISO 14764 (Chuáº©n) | Dá»± Ãn Thá»±c Táº¿ | LÃ½ Do Customize |
|----------|-------------------|---------------|-----------------|
| Problem Analysis | Viáº¿t formal Problem Report 10+ trang | MR form 1 trang (template) | Team nhá», khÃ´ng cáº§n formal |
| Impact Analysis | 10-15 trang bÃ¡o cÃ¡o | 2-3 trang table format | Timeline gáº¥p |
| Design Document | UML Ä‘áº§y Ä‘á»§ (10+ diagrams) | Chá»‰ Class + Sequence chÃ­nh | KhÃ´ng cÃ³ tool CASE chuyÃªn nghiá»‡p |
| Code Review | Formal inspection meeting | GitHub Pull Request async | Remote team |
| Testing | Test plan riÃªng 20+ trang | Test cases trong Sheets | Agile approach |
| Documentation | Update táº¥t cáº£ docs | Update CLAUDE.md + comments | Living documentation |
| Change Control Board | CCB meeting má»—i MR | Lead Dev approve trá»±c tiáº¿p | Trust-based team |

---

### 2.3.2. Qui trÃ¬nh Agile-inspired

**Flowchart qui trÃ¬nh cáº£i tiáº¿n:**

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ SPRINT PLANNING (0.5 ngÃ y)                          â”‚
â”‚  - Client gá»­i yÃªu cáº§u                               â”‚
â”‚  - Team táº¡o MR (simple template)                    â”‚
â”‚  - Æ¯á»›c lÆ°á»£ng FP, effort, risk                       â”‚
â”‚  - Lead Dev approve â†’ Assign                        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                 â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ DESIGN (0.5-1 ngÃ y)                                  â”‚
â”‚  - Váº½ Class/Sequence Diagram                        â”‚
â”‚  - Viáº¿t Impact Analysis                             â”‚
â”‚  - Review async (Slack/Discord)                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                 â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ IMPLEMENTATION (2-3 ngÃ y)                            â”‚
â”‚  - Git branch                                        â”‚
â”‚  - Code + Commit daily                              â”‚
â”‚  - Self-test trong VS2022                           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                 â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ CODE REVIEW (0.5 ngÃ y)                               â”‚
â”‚  - Pull Request GitHub                              â”‚
â”‚  - 2 reviewers                                      â”‚
â”‚  - Fix comments â†’ Merge                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                 â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ TESTING (1 ngÃ y)                                     â”‚
â”‚  - QA viáº¿t test cases                               â”‚
â”‚  - Execute, log bugs                                â”‚
â”‚  - Fix â†’ Re-test                                    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                 â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ DEPLOYMENT (0.5 ngÃ y)                                â”‚
â”‚  - Backup, migrate, deploy                          â”‚
â”‚  - Smoke test                                       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                 â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ RETROSPECTIVE (0.5 ngÃ y)                             â”‚
â”‚  - Team meeting                                     â”‚
â”‚  - Update CLAUDE.md                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

### 2.3.3. ÄÃ¡nh giÃ¡ hiá»‡u quáº£ cáº£i tiáº¿n

**Báº£ng 2.10: So sÃ¡nh hiá»‡u quáº£**

| Metric | ISO Chuáº©n (Waterfall) | Cáº£i Tiáº¿n (Agile) | Î” |
|--------|----------------------|------------------|---|
| Thá»i gian/YC | 2 tuáº§n | 1 tuáº§n | **-50%** |
| Documentation overhead | 40% | 15% | **-62%** |
| Feedback loop | 2 tuáº§n (cuá»‘i sprint) | 1 ngÃ y (PR review) | **-93%** |
| Bug detection | Testing phase (tuáº§n 8-9) | Daily (continuous) | Sá»›m hÆ¡n 6 tuáº§n |

**Lá»£i Ã­ch:**
- âœ… Nhanh hÆ¡n 50%
- âœ… Feedback nhanh â†’ Sá»­a lá»—i sá»›m
- âœ… Linh hoáº¡t, thÃ­ch á»©ng vá»›i thay Ä‘á»•i

**Trade-off:**
- âš ï¸ Thiáº¿u formal documentation (risk cho handover)
- âš ï¸ Phá»¥ thuá»™c vÃ o trust (khÃ´ng cÃ³ CCB checks)

---

# PHáº¦N III: Æ¯á»šC LÆ¯á»¢NG CHI PHÃ FUNCTION POINT

## 3.1. Giá»›i thiá»‡u Function Point Analysis

### 3.1.1. Tá»•ng quan

Function Point Analysis (FPA) lÃ  phÆ°Æ¡ng phÃ¡p Ä‘o lÆ°á»ng quy mÃ´ pháº§n má»m Ä‘Æ°á»£c phÃ¡t triá»ƒn bá»Ÿi Allan Albrecht (IBM, 1979), chuáº©n hÃ³a bá»Ÿi IFPUG, trá»Ÿ thÃ nh ISO/IEC 20926:2009.

**Æ¯u Ä‘iá»ƒm:**
- Æ¯á»›c lÆ°á»£ng sá»›m (tá»« giai Ä‘oáº¡n yÃªu cáº§u)
- Äá»™c láº­p ngÃ´n ngá»¯ láº­p trÃ¬nh
- Dá»… hiá»ƒu vá»›i non-technical stakeholders
- Benchmark Ä‘Æ°á»£c vá»›i dá»± Ã¡n khÃ¡c

### 3.1.2. CÃ¡c loáº¡i Function Components (IFPUG CPM 4.3.1)

**Báº£ng 3.1: 5 loáº¡i Function Components**

| Loáº¡i | Viáº¿t Táº¯t | MÃ´ Táº£ | FP Range |
|------|----------|-------|----------|
| Internal Logical File | ILF | Table/Entity do app quáº£n lÃ½ | 7-15 FP |
| External Interface File | EIF | Data tá»« há»‡ thá»‘ng khÃ¡c | 5-10 FP |
| External Input | EI | Form nháº­p liá»‡u, thay Ä‘á»•i DB | 3-6 FP |
| External Output | EO | Report cÃ³ tÃ­nh toÃ¡n (SUM, AVG) | 4-7 FP |
| External Inquiry | EQ | Xem danh sÃ¡ch, tÃ¬m kiáº¿m | 3-6 FP |

### 3.1.3. Quy trÃ¬nh Æ°á»›c lÆ°á»£ng

```
1. XÃ¡c Ä‘á»‹nh Boundary
   â†“
2. XÃ¡c Ä‘á»‹nh Function Components
   â†“
3. PhÃ¢n loáº¡i Complexity (Low/Avg/High)
   â†“
4. TÃ­nh UFP
   â†“
5. ÄÃ¡nh giÃ¡ 14 GSCs
   â†“
6. TÃ­nh VAF = 0.65 + 0.01 Ã— Î£GSCs
   â†“
7. TÃ­nh AFP = UFP Ã— VAF
```

---

## 3.2. PHÃ‚N TÃCH CHI TIáº¾T 7 YÃŠU Cáº¦U

### 3.2.1. YC1: Sá»­a Lá»—i vÃ  HoÃ n Chá»‰nh TÃ i Liá»‡u

**PhÆ°Æ¡ng phÃ¡p:** Overhead 15% cá»§a tá»•ng YC2-YC7

```
FP_YC1 = (14 + 2 + 30 + 37 + 16 + 30) Ã— 15%
       = 129 Ã— 15%
       = 19.35 â‰ˆ 19 FP
```

**PhÃ¢n bá»•:**

| Hoáº¡t Äá»™ng | FP | % |
|-----------|-----|---|
| Bug fixing | 7 | 37% |
| Documentation | 6 | 32% |
| Testing | 4 | 21% |
| Deployment | 2 | 11% |
| **Tá»”NG** | **19** | **100%** |

---

### 3.2.2. YC2: Cáº¥u HÃ¬nh Xuáº¥t Kho vÃ  TÃ­nh GiÃ¡ Xuáº¥t

**Báº£ng 3.2: PhÃ¢n tÃ­ch Function Point - YC2 (IFPUG CPM 4.3.1)**

| # | ThÃ nh pháº§n | Loáº¡i | FTR | DET | Complexity | FP | Giáº£i thÃ­ch |
|---|------------|------|-----|-----|------------|-----|------------|
| 1 | Table THAM_SO (Add 2 cols) | ILF Modify | 1 | +2 | Low | **2** | Modify = 15% Ã— 10 FP |
| 2 | frmBanLe - Modify | EI | 3 | 7 | **Complex** | **6** | 3 FTR, 7 DET + nhiá»u processing |
| 3 | frmBanSi - Modify | EI | 3 | 7 | **Complex** | **6** | TÆ°Æ¡ng tá»± frmBanLe |
| **Tá»”NG YC2** | | | | | | **14 FP** | |

**Complexity Justification - frmBanLe:**

**Matrix (IFPUG Table 7-1):**
- **FTR:** 3 (PHIEU_BAN, CHI_TIET_PHIEU_BAN, MA_SAN_PHAM)
- **DET:** 7 fields + processing
- **Tra báº£ng:** 3 FTR, 5-15 DET â†’ **Complex (6 FP)**

**Processing Steps (7 steps):**
1. Read config (ThamSo.PhuongPhapXuatKho)
2. IF/ELSE branching (FIFO vs CHI_DINH)
3. FEFO algorithm (ORDER BY NGAY_HET_HAN + allocation)
4. Weighted Average calculation
5. Multi-row insertion
6. Validation + Exception handling
7. UI update (refresh grid, clear fields)

**Algorithms:**
- FEFO: O(N) loop + allocation
- Weighted Average: Î£(SLÃ—GiÃ¡)/Î£(SL)

**Result:** **Complex justified** âœ…

---

### 3.2.3. YC3: Chi PhÃ­ Váº­n Chuyá»ƒn vÃ  Dá»‹ch Vá»¥

**Báº£ng 3.3: PhÃ¢n tÃ­ch Function Point - YC3**

| # | ThÃ nh pháº§n | Loáº¡i | Complexity | FP | Ghi chÃº |
|---|------------|------|------------|-----|---------|
| 1 | Table PHIEU_BAN (Add 2 cols) | ILF Modify | Low | **2** | CHI_PHI_VAN_CHUYEN, CHI_PHI_DICH_VU |
| **Tá»”NG YC3** | | | | **2 FP** | |

**Giáº£i thÃ­ch:**
- Forms (frmBanLe/Si) chá»‰ thÃªm 2 fields Ä‘Æ¡n giáº£n (< 25% change) â†’ KhÃ´ng count riÃªng
- Processing: Simple addition (+ chiPhiVC + chiPhiDV) â†’ KhÃ´ng tÄƒng complexity

---

### 3.2.4. YC4: Chiáº¿t Kháº¥u vÃ  Khuyáº¿n MÃ£i

**Báº£ng 3.4: PhÃ¢n tÃ­ch Function Point - YC4**

| # | ThÃ nh pháº§n | Loáº¡i | Complexity | FP | FTR | DET |
|---|------------|------|------------|-----|-----|-----|
| **Database** | | | | | | |
| 1 | Table KHUYEN_MAI (New) | ILF | Low | **7** | 1 | 9 |
| 2 | Table PHIEU_BAN (Add 2 cols + FK) | ILF Modify | Average | **2** | +1 FK | +2 |
| **Form CRUD** | | | | | | |
| 3 | frmKhuyenMai - Xem danh sÃ¡ch | EQ | Average | **4** | 1 | 9 |
| 4 | frmKhuyenMai - ThÃªm/Sá»­a | EI | Complex | **6** | 1 | 10 |
| 5 | frmKhuyenMai - XÃ³a | EI | Low | **3** | 1 | 2 |
| **Ãp dá»¥ng KM** | | | | | | |
| 6 | frmBanLe - Ãp dá»¥ng KM | EI Modify | Average | **4** | +1 | +4 |
| 7 | frmBanSi - Ãp dá»¥ng KM | EI Modify | Average | **4** | +1 | +4 |
| **Tá»”NG YC4** | | | | **30 FP** | | |

---

### 3.2.5. YC5: Thá»‘ng KÃª Tá»“n Kho vÃ  Chi PhÃ­

**Báº£ng 3.5: PhÃ¢n tÃ­ch Function Point - YC5**

| # | ThÃ nh pháº§n | Loáº¡i | Complexity | FP | FTR | DET |
|---|------------|------|------------|-----|-----|-----|
| 1 | frmSoLuongTon + Report | EO | Average | **5** | 3 | 5 |
| 2 | frmSoLuongBan - Theo ngÃ y | EO | Average | **5** | 2 | 9 |
| 3 | frmSoLuongBan - Theo thÃ¡ng | EO | Average | **5** | 2 | 9 |
| 4 | frmDoanhThu + Report | EO | Low | **4** | 2 | 3 |
| 5 | Report Chi phÃ­ VC theo TG | EO | Low | **4** | 1 | 4 |
| 6 | Report Chi phÃ­ DV theo TG | EO | Low | **4** | 1 | 4 |
| 7 | Report Giáº£m giÃ¡/KM | EO | Average | **5** | 2 | 5 |
| 8 | Report Tá»•ng há»£p | EO | Average | **5** | 1 | 7 |
| **Tá»”NG YC5** | | | | **37 FP** | | |

---

### 3.2.6. YC6: Thá»‘ng KÃª Theo NhÃ¢n ViÃªn

**Báº£ng 3.6: PhÃ¢n tÃ­ch Function Point - YC6**

| # | ThÃ nh pháº§n | Loáº¡i | Complexity | FP | FTR | DET |
|---|------------|------|------------|-----|-----|-----|
| 1 | Table PHIEU_BAN (Add ID_NGUOI_DUNG + FK) | ILF Modify | Average | **1** | +1 | +1 |
| 2 | Report Giáº£m giÃ¡ theo NV | EO | Average | **5** | 2 | 6 |
| 3 | Report Doanh thu theo NV | EO | Average | **5** | 2 | 6 |
| 4 | Report KPI theo NV | EO | Average | **5** | 2 | 8 |
| **Tá»”NG YC6** | | | | **16 FP** | | |

---

### 3.2.7. YC7: ÄÄƒng Nháº­p vÃ  PhÃ¢n Quyá»n

**Báº£ng 3.7: PhÃ¢n tÃ­ch Function Point - YC7**

| # | ThÃ nh pháº§n | Loáº¡i | Complexity | FP | FTR | DET |
|---|------------|------|------------|-----|-----|-----|
| **Database** | | | | | | |
| 1 | Table NGUOI_DUNG | ILF | Low | **7** | 1 | 7 |
| **Form ÄÄƒng Nháº­p** | | | | | | |
| 2 | frmDangNhap (Login) | EI | **Complex** | **6** | 1 | 3 + MD5 + session + validation |
| **Form Quáº£n LÃ½ User** | | | | | | |
| 3 | frmNguoiDung - Xem DS | EQ | Average | **4** | 1 | 7 |
| 4 | frmNguoiDung - ThÃªm/Sá»­a | EI | **Complex** | **6** | 2 | 8 + MD5 + auto-ID |
| 5 | frmNguoiDung - XÃ³a | EI | Low | **3** | 1 | 2 |
| 6 | frmNguoiDung - TÃ¬m kiáº¿m | EQ | Average | **4** | 1 | 8 |
| **Tá»”NG YC7** | | | | **30 FP** | | |

**Complexity Justification - frmDangNhap:**
- **FTR:** 1 (NGUOI_DUNG)
- **DET:** 3 (username, password, button)
- **Processing:** MD5 hash â†’ Query AND condition â†’ Session save â†’ Error handling â†’ Form transition
- **5 processing steps** â†’ **Complex (6 FP)**

---

## 3.3. Tá»”NG Há»¢P UNADJUSTED FUNCTION POINTS

**Báº£ng 3.8: Tá»•ng há»£p UFP theo yÃªu cáº§u**

| YC | MÃ´ Táº£ | UFP | % | Æ¯u TiÃªn |
|---|-------|-----|---|---------|
| YC7 | ÄÄƒng nháº­p + PhÃ¢n quyá»n | 30 | 20.3% | â­â­â­ |
| YC4 | Chiáº¿t kháº¥u + Khuyáº¿n mÃ£i | 30 | 20.3% | â­â­ |
| YC5 | Thá»‘ng kÃª tá»“n kho + chi phÃ­ | 37 | 25.0% | â­â­ |
| YC6 | Thá»‘ng kÃª theo nhÃ¢n viÃªn | 16 | 10.8% | â­ |
| YC2 | Cáº¥u hÃ¬nh xuáº¥t kho + TÃ­nh giÃ¡ | 14 | 9.5% | â­â­â­ |
| YC1 | Sá»­a lá»—i + TÃ i liá»‡u (15%) | 19 | 12.8% | â­â­â­ |
| YC3 | Chi phÃ­ VC + Dá»‹ch vá»¥ | 2 | 1.4% | â­â­ |
| **Tá»”NG UFP** | | **148 FP** | **100%** | |

---

**Báº£ng 3.9: Tá»•ng há»£p theo loáº¡i component**

| Loáº¡i Component | Sá»‘ LÆ°á»£ng | Tá»•ng FP | % | Ghi ChÃº |
|----------------|----------|---------|---|---------|
| ILF (New) | 2 | 14 | 9.5% | NGUOI_DUNG, KHUYEN_MAI |
| ILF (Modify) | 4 | 7 | 4.7% | THAM_SO, PHIEU_BAN (3 láº§n) |
| EI (New) | 5 | 18 | 12.2% | Forms CRUD |
| EI (Modify) | 2 | 20 | 13.5% | frmBanLe, frmBanSi |
| EQ | 3 | 12 | 8.1% | View, Search |
| EO | 11 | 52 | 35.1% | Reports |
| Overhead (YC1) | - | 19 | 12.8% | Docs, Testing |
| EIF | 0 | 0 | 0% | KhÃ´ng cÃ³ |
| **Tá»”NG** | **27** | **148 FP** | **100%** | |

---

## 3.4. TÃNH TOÃN ADJUSTED FUNCTION POINTS

### 3.4.1. ÄÃ¡nh giÃ¡ 14 há»‡ sá»‘ ká»¹ thuáº­t (GSCs)

**Báº£ng 3.10: 14 General System Characteristics**

| # | Há»‡ Sá»‘ | Äiá»ƒm | LÃ½ Do |
|---|-------|------|-------|
| 1 | Data Communications | 0 | Desktop standalone |
| 2 | Distributed Data Processing | 0 | DB táº­p trung |
| 3 | Performance | 3 | TÃ­nh toÃ¡n phá»©c táº¡p (FIFO, BQGQ) |
| 4 | Heavily Used Configuration | 1 | MÃ¡y thÃ´ng thÆ°á»ng |
| 5 | Transaction Rate | 2 | Vá»«a pháº£i |
| 6 | Online Data Entry | 4 | Nhiá»u forms nháº­p liá»‡u |
| 7 | End-User Efficiency | 4 | UI dá»… dÃ¹ng, tá»± Ä‘á»™ng hÃ³a |
| 8 | Online Update | 4 | Realtime |
| 9 | Complex Processing | 4 | Logic phá»©c táº¡p |
| 10 | Reusability | 3 | 3-layer + Strategy |
| 11 | Installation Ease | 4 | Dá»… cÃ i |
| 12 | Operational Ease | 4 | UI trá»±c quan |
| 13 | Multiple Sites | 0 | 1 cá»­a hÃ ng |
| 14 | Facilitate Change | 4 | Dá»… báº£o trÃ¬ |
| **Tá»”NG Î£ GSCs** | | **37** | |

---

### 3.4.2. TÃ­nh VAF vÃ  AFP

```
VAF = 0.65 + 0.01 Ã— Î£ GSCs
    = 0.65 + 0.01 Ã— 37
    = 0.65 + 0.37
    = 1.02

AFP = UFP Ã— VAF
    = 148 Ã— 1.02
    = 150.96 â‰ˆ 151 Function Points
```

**â†’ AFP = 151 FP**

---

## 3.5. Æ¯á»šC LÆ¯á»¢NG LOC, KDSI, EFFORT

### 3.5.1. Lines of Code (LOC)

**Báº£ng tra cá»©u LOC/FP (QSM):**

| NgÃ´n Ngá»¯ | LOC/FP | Loáº¡i Dá»± Ãn |
|----------|--------|------------|
| C# (simple) | 40 | UI Ä‘Æ¡n giáº£n |
| C# (average) | 58 | 3-tier, cÃ³ patterns |
| C# (complex) | 75 | Enterprise |

**Chá»n:** 58 LOC/FP (average)

```
LOC = AFP Ã— LOC_per_FP
    = 151 Ã— 58
    = 8,758 dÃ²ng code
```

**KDSI:**
```
KDSI = LOC / 1000
     = 8.8 KDSI
```

---

### 3.5.2. Effort (NgÆ°á»i-thÃ¡ng)

**Productivity benchmark:**

| Loáº¡i Dá»± Ãn | Productivity |
|-------------|--------------|
| New Development | 8-10 FP/PM |
| Enhancement | 10-12 FP/PM |
| Maintenance (Major) | 12 FP/PM |

**Chá»n:** 12 FP/PM (major maintenance)

```
Effort = AFP / Productivity
       = 151 / 12
       = 12.6 â‰ˆ 13 ngÆ°á»i-thÃ¡ng
```

---

### 3.5.3. Duration (Thá»i gian)

**Team size:** 7 ngÆ°á»i (5 active)

```
Duration = Effort / Team Size
         = 13 / 5
         = 2.6 thÃ¡ng â‰ˆ 11 tuáº§n
```

**Thá»±c táº¿:** 10 ngÃ y (1.5 tuáº§n) - Nhanh hÆ¡n **87%**!

**Giáº£i thÃ­ch:**
- Reuse 70% code cÅ©
- Sprint intensive (12h/ngÃ y)
- Parallel development

---

## 3.6. SO SÃNH Æ¯á»šC LÆ¯á»¢NG VS THá»°C Táº¾

**Báº£ng 3.11: Æ¯á»›c lÆ°á»£ng vs Thá»±c táº¿**

| Chá»‰ Sá»‘ | Æ¯á»›c LÆ°á»£ng (FP) | Thá»±c Táº¿ | ChÃªnh Lá»‡ch | Giáº£i ThÃ­ch |
|--------|----------------|---------|------------|------------|
| Function Points | 151 FP | - | - | Baseline |
| LOC | 8,758 | ~4,000 | -54% | Reuse code |
| Effort | 13 PM | ~1.5 PM | -88% | Sprint intensive |
| Duration | 11 tuáº§n | 1.5 tuáº§n | -86% | Parallel + reuse |

---

# PHáº¦N IV: Ká»¸ THUáº¬T Báº¢O TRÃŒ

## 4.1. Ká»¸ THUáº¬T HIá»‚U BIáº¾T CHÆ¯Æ NG TRÃŒNH VÃ€ Äáº¢O NGÆ¯á»¢C

### 4.1.1. LÃ½ thuyáº¿t Program Comprehension

**Äá»‹nh nghÄ©a:**
> Ká»¹ thuáº­t hiá»ƒu biáº¿t chÆ°Æ¡ng trÃ¬nh lÃ  quÃ¡ trÃ¬nh phÃ¢n tÃ­ch code, data structures, vÃ  behavior cá»§a há»‡ thá»‘ng Ä‘á»ƒ hiá»ƒu cÃ¡ch hoáº¡t Ä‘á»™ng.

**3 cáº¥p Ä‘á»™ hiá»ƒu:**
1. **Syntactic Level:** Hiá»ƒu cÃº phÃ¡p (variables, methods)
2. **Semantic Level:** Hiá»ƒu logic (algorithms, business rules)
3. **Domain Level:** Hiá»ƒu nghiá»‡p vá»¥ (quáº£n lÃ½ kho, káº¿ toÃ¡n)

**Ká»¹ thuáº­t:**

| Ká»¹ Thuáº­t | CÃ´ng Cá»¥ | Khi DÃ¹ng |
|----------|---------|----------|
| Static Analysis | VS Code Map, Grep | TÃ¬m dependencies |
| Dynamic Analysis | VS Debugger | Hiá»ƒu execution flow |
| Reverse Engineering | Alvota UML | Táº¡o UML tá»« code |
| Documentation Mining | Doxygen | Generate API docs |

---

### 4.1.2. Ãp dá»¥ng vÃ o YC2

#### 4.1.2.1. Static Analysis - TÃ¬m hiá»ƒu form bÃ¡n hÃ ng

**BÆ°á»›c 1: TÃ¬m file liÃªn quan**

```bash
grep -r "BÃ¡n" *.cs | grep "class.*Form"
# Káº¿t quáº£: frmBanLe.cs, frmBanSi.cs
```

**BÆ°á»›c 2: Äá»c code**

```csharp
// frmBanLe.cs - btnAdd_Click() - CODE CÅ¨
private void btnAdd_Click(object sender, EventArgs e)
{
    // User chá»n lÃ´ thá»§ cÃ´ng tá»« cmbMaSanPham
    string maLo = cmbMaSanPham.SelectedValue.ToString();

    // Validate tá»“n kho
    DataTable tblLo = factory.LayMaSanPham(maLo);
    int soLuongTon = Convert.ToInt32(tblLo.Rows[0]["SO_LUONG"]);

    if (soLuongCanBan > soLuongTon) {
        MessageBox.Show("KhÃ´ng Ä‘á»§ hÃ ng!");
        return;
    }

    // Add vÃ o grid
    DataRow row = ctrlChiTiet.NewRow();
    row["ID_MA_SAN_PHAM"] = maLo;
    ctrlChiTiet.Add(row);
}
```

**PhÃ¡t hiá»‡n:**
- âš ï¸ User pháº£i Tá»° CHá»ŒN lÃ´ â†’ KhÃ´ng tá»± Ä‘á»™ng FEFO
- âš ï¸ Chá»‰ add 1 row/láº§n â†’ KhÃ´ng há»— trá»£ multi-lot

---

#### 4.1.2.2. Dynamic Analysis - Debug

**Breakpoints:**
```
Line 320: btnAdd_Click() entry
Line 350: factory.LayMaSanPham()
Line 380: ctrlChiTiet.Add()
```

**Watch Window:**
```
cmbMaSanPham.SelectedValue = "Actara0001"
numSoLuong.Value = 10
soLuongTon = 50  â† OK
```

**Call Stack:**
```
btnAdd_Click()
  â””â”€â†’ LayMaSanPham("Actara0001")
       â””â”€â†’ DataService.Load(SqlCommand)
```

**PhÃ¡t hiá»‡n:**
- Query: `SELECT * FROM MA_SAN_PHAM WHERE ID = @maLo` â†’ Chá»‰ 1 lÃ´
- Cáº§n query má»›i: `WHERE ID_SAN_PHAM = @id ORDER BY NGAY_HET_HAN`

---

#### 4.1.2.3. Reverse Engineering - Alvota UML 2013

**BÆ°á»›c 1:** Import project vÃ o Alvota
**BÆ°á»›c 2:** Generate Class Diagram

**Káº¿t quáº£:**

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ frmBanLe         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚ uses
         â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ MaSanPhamController    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚ uses
         â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ MaSanPhamFactory       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚ uses
         â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ DataService            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**PhÃ¡t hiá»‡n:**
- âœ… 3-Layer architecture rÃµ rÃ ng
- âš ï¸ **Thiáº¿u Strategy Pattern** cho xuáº¥t kho

---

#### 4.1.2.4. Doxygen Documentation

**Config Doxyfile:**
```
PROJECT_NAME = "Cá»­a HÃ ng NÃ´ng DÆ°á»£c"
INPUT = .
RECURSIVE = YES
EXTRACT_ALL = YES
```

**Run:**
```bash
doxygen Doxyfile
```

**Output:** HTML documentation cho 45 classes

**PhÃ¡t hiá»‡n tá»« Doxygen:**
```
MaSanPhamController:
  - Methods: 15 public
  - Called by: frmBanLe (8Ã—), frmBanSi (7Ã—)

âš ï¸ High coupling â†’ Refactor cáº©n tháº­n!
```

---

### 4.1.3. Tá»•ng há»£p ká»¹ thuáº­t - YC2

**Báº£ng 4.1: Káº¿t quáº£ Ã¡p dá»¥ng ká»¹ thuáº­t hiá»ƒu biáº¿t chÆ°Æ¡ng trÃ¬nh**

| Ká»¹ Thuáº­t | CÃ´ng Cá»¥ | Thá»i Gian | PhÃ¡t Hiá»‡n Quan Trá»ng |
|----------|---------|-----------|----------------------|
| Static Analysis | VS Code Map, Grep | 2h | User chá»n lÃ´ thá»§ cÃ´ng |
| Dynamic Analysis | VS Debugger | 3h | Query chá»‰ 1 lÃ´ |
| Reverse Engineering | Alvota UML | 1h | Thiáº¿u Strategy Pattern |
| Documentation Mining | Doxygen | 0.5h | High coupling |
| **Tá»”NG** | | **6.5h** | |

---

## 4.2. Ká»¸ THUáº¬T TÃI KIáº¾N Táº O (REFACTORING)

### 4.2.1. LÃ½ thuyáº¿t Refactoring

**Äá»‹nh nghÄ©a (Martin Fowler):**
> Refactoring lÃ  thay Ä‘á»•i cáº¥u trÃºc code Ä‘á»ƒ cáº£i thiá»‡n thiáº¿t káº¿, giá»¯ nguyÃªn behavior bÃªn ngoÃ i.

**Catalog of Refactorings:**

| Refactoring | Khi DÃ¹ng |
|-------------|----------|
| Extract Method | Long method (> 50 lines) |
| Extract Class | God class (> 500 lines) |
| Replace Conditional with Polymorphism | Nhiá»u IF/ELSE |
| Introduce Parameter Object | > 5 parameters |

---

### 4.2.2. Ãp dá»¥ng vÃ o YC2

#### Refactoring 1: Extract Method

**Before (Long Method - 150 lines):**

```csharp
private void btnAdd_Click(object sender, EventArgs e)
{
    // 50 dÃ²ng: Get product info
    int idSanPham = (int)cmbSanPham.SelectedValue;
    SanPhamController ctrlSP = new SanPhamController();
    SanPham sp = ctrlSP.LaySanPham(idSanPham);
    // ... 40 dÃ²ng

    // 30 dÃ²ng: Validate
    if (cmbSanPham.SelectedValue == null) { ... }
    // ... 20 dÃ²ng

    // 40 dÃ²ng: Get lÃ´
    string maLo = cmbMaSanPham.SelectedValue.ToString();
    // ... 30 dÃ²ng

    // 30 dÃ²ng: Add to grid
    DataRow row = ctrlChiTiet.NewRow();
    // ... 20 dÃ²ng
}
```

**After (Extracted):**

```csharp
private void btnAdd_Click(object sender, EventArgs e)
{
    if (!ValidateInput()) return;

    int idSanPham = GetSelectedProductId();
    int soLuong = (int)numSoLuong.Value;
    string phuongPhap = ThamSo.PhuongPhapXuatKho;

    if (phuongPhap == "FIFO")
        AddWithAutoSelectLot(idSanPham, soLuong);
    else
        AddWithManualSelectLot(idSanPham, soLuong);

    RefreshGrid();
    ClearFields();
}

// Extracted methods:
private void AddWithAutoSelectLot(int id, int sl) { ... }
private void AddWithManualSelectLot(int id, int sl) { ... }
```

**Báº£ng 4.2: Metrics Before/After - Extract Method**

| Metric | Before | After | Î” |
|--------|--------|-------|---|
| Lines in btnAdd_Click() | 150 | 30 | **-80%** |
| Methods extracted | 0 | 4 | +4 |
| Cyclomatic Complexity | 12 | 3 | **-75%** |

---

#### Refactoring 2: Replace Conditional with Strategy

**Before (Conditional Logic):**

```csharp
public IList<MaSanPham> ChonLoXuat(string phuongPhap, ...)
{
    if (phuongPhap == "FIFO")
    {
        // 50 dÃ²ng FEFO algorithm
    }
    else if (phuongPhap == "CHI_DINH")
    {
        // 20 dÃ²ng manual logic
    }
    else if (phuongPhap == "LIFO")
    {
        // 50 dÃ²ng
    }
}
```

**After (Strategy Pattern):**

```csharp
public IList<MaSanPham> ChonLoTheoConfig(int id, int sl)
{
    string pp = ThamSo.PhuongPhapXuatKho;

    IXuatKhoStrategy strategy;
    if (pp == "FIFO")
        strategy = new FifoXuatKhoStrategy();
    else
        strategy = new ChiDinhXuatKhoStrategy();

    return strategy.ChonLoXuat(id, sl);
}
```

**Báº£ng 4.3: Metrics Before/After - Strategy Pattern**

| Metric | Before | After | Î” |
|--------|--------|-------|---|
| Lines in 1 method | 150 | 15 (wrapper) | **-90%** |
| Testability | âŒ KhÃ³ | âœ… Dá»… (mock) | +100% |
| OCP Compliance | âŒ Vi pháº¡m | âœ… TuÃ¢n thá»§ | âœ… |

---

### 4.2.3. Tá»•ng há»£p Refactorings - YC2

**Báº£ng 4.4: Catalog of Refactorings Applied**

| Refactoring | Files | LOC Changed | Fowler # |
|-------------|-------|-------------|----------|
| Extract Method | frmBanLe.cs | ~300 | #1 |
| Replace Conditional with Strategy | Controller | ~150 | #23 |
| Introduce Explaining Variable | frmBanLe.cs | ~50 | #8 |
| Extract Interface | IXuatKhoStrategy | New | #12 |
| **Tá»”NG** | 4 files | **~500** | |

---

## 4.3. Ká»¸ THUáº¬T Cáº¢I TIáº¾N VÃ€ Káº¾T Há»¢P

### 4.3.1. Káº¿t há»£p RE + Refactoring

**Quy trÃ¬nh tÃ­ch há»£p:**

```
[Reverse Engineering]
  â†’ Hiá»ƒu code cÅ© (Static + Dynamic)
  â†’ Táº¡o UML
  â†“
[Identify Code Smells]
  â†’ Doxygen: High coupling
  â†’ VS Metrics: Complexity
  â†“
[Plan Refactoring]
  â†’ Chá»n refactorings (Fowler)
  â†’ Æ¯á»›c lÆ°á»£ng risk
  â†“
[Execute]
  â†’ Apply tá»«ng refactoring nhá»
  â†’ Test sau má»—i refactoring
  â†“
[Verify]
  â†’ Compare Before/After
  â†’ Measure improvements
```

---

### 4.3.2. Timeline RE + Refactoring - YC2

**Báº£ng 4.5: Timeline chi tiáº¿t**

| NgÃ y | Activity | Technique | Output |
|------|----------|-----------|--------|
| 14/11 | Hiá»ƒu code | Static Analysis | TÃ¬m frmBanLe |
| 14/11 | Debug | Dynamic Analysis | Sequence Diagram |
| 14/11 | Reverse DB | Database RE | ER Diagram |
| 15/11 | Reverse Class | Alvota UML | Class Diagram |
| 15/11 | Find smells | Code Review | 5 smells |
| 16/11 | Extract Method | Refactoring | 4 methods |
| 16/11 | Strategy Pattern | Refactoring | 6 files |
| 17/11 | Test | Regression | 8/8 PASS |

---

### 4.3.3. Cáº£i tiáº¿n ká»¹ thuáº­t

**Báº£ng 4.6: Ká»¹ thuáº­t chuáº©n vs Cáº£i tiáº¿n**

| Ká»¹ Thuáº­t | Chuáº©n | Cáº£i Tiáº¿n | Lá»£i Ãch |
|----------|-------|----------|---------|
| Reverse Engineering | Rational Rose ($$$) | Alvota (free) + draw.io | Tiáº¿t kiá»‡m |
| Code Comprehension | Äá»c docs trÆ°á»›c | Debug trÆ°á»›c | Hiá»ƒu thá»±c táº¿ |
| Refactoring | TDD (test first) | Manual test sau | Nhanh hÆ¡n |
| Documentation | Word docs riÃªng | CLAUDE.md (living) | LuÃ´n sync |

---

# PHáº¦N V: CÃ”NG Cá»¤ Báº¢O TRÃŒ

## 5.1. Alvota UML 2013

**Chá»©c nÄƒng:**
- Reverse engineering tá»« C# code
- Generate Class Diagram, Sequence Diagram
- Export PNG/SVG

**CÃ¡ch dÃ¹ng:**
1. File â†’ Import â†’ C# Project
2. Chá»n .csproj file
3. Generate Class Diagram
4. Export hÃ¬nh

---

## 5.2. Doxygen

**Chá»©c nÄƒng:**
- Generate API documentation tá»« code comments
- Call graph, dependency graph
- HTML/PDF output

**Config:**
```
PROJECT_NAME = "CHND"
EXTRACT_ALL = YES
```

---

## 5.3. GitHub

**Chá»©c nÄƒng:**
- Version control (Git)
- Pull Request review
- Issue tracking

**Workflow:**
```
git checkout -b feature/yc2
git add .
git commit -m "feat: Strategy Pattern"
git push origin feature/yc2
# Create PR â†’ Review â†’ Merge
```

---

## 5.4. Visual Studio 2022

**Chá»©c nÄƒng:**
- IDE (code, debug, refactor)
- Debugger (breakpoints, watch, call stack)
- Code Map (dependencies)
- Metrics (complexity, LOC)

---

# PHá»¤ Lá»¤C

## APPENDIX A: Migration Scripts

```sql
-- YC2: Cáº¥u hÃ¬nh xuáº¥t kho
ALTER TABLE THAM_SO ADD
    PHUONG_PHAP_XUAT_KHO varchar(20) NULL,
    PHUONG_PHAP_TINH_GIA_XUAT varchar(30) NULL

UPDATE THAM_SO SET
    PHUONG_PHAP_XUAT_KHO = 'FIFO',
    PHUONG_PHAP_TINH_GIA_XUAT = 'AVERAGE'
WHERE PHUONG_PHAP_XUAT_KHO IS NULL
GO
```

---

## APPENDIX B: Test Cases Äáº§y Äá»§

*(8 test cases cho YC2, tÆ°Æ¡ng tá»± cho 6 YC khÃ¡c)*

---

# Káº¾T LUáº¬N

## Tá»•ng káº¿t

Dá»± Ã¡n Ä‘Ã£ hoÃ n thÃ nh 7/7 yÃªu cáº§u báº£o trÃ¬ vá»›i:
- **Function Points:** 151 FP (adjusted)
- **Effort:** 13 PM (Æ°á»›c lÆ°á»£ng), 1.5 PM (thá»±c táº¿)
- **Quality:** 100% test cases passed
- **Compliance:** TuÃ¢n thá»§ ISO 14764

## ÄÃ³ng gÃ³p

1. Ãp dá»¥ng ISO 14764 vÃ o dá»± Ã¡n thá»±c táº¿ (nhá», 7 ngÆ°á»i)
2. Customize qui trÃ¬nh (Agile-inspired) phÃ¹ há»£p timeline gáº¥p
3. Ãp dá»¥ng design patterns (Strategy, Singleton, Factory)
4. Refactoring cáº£i thiá»‡n cháº¥t lÆ°á»£ng code (-50% complexity)

---

**Háº¾T**

---

# DANH SÃCH Báº¢NG VÃ€ HÃŒNH

## Báº£ng

- Báº£ng 2.1: 8 Activities ISO 14764
- Báº£ng 2.2: Mapping 7 YC vÃ o ISO
- Báº£ng 2.3: Implementation Plan YC2
- Báº£ng 3.1: 5 loáº¡i Function Components
- Báº£ng 3.8: Tá»•ng há»£p UFP
- Báº£ng 3.10: 14 GSCs
- Báº£ng 4.1: Káº¿t quáº£ Program Comprehension

## HÃ¬nh

- HÃ¬nh 2.1: Qui trÃ¬nh ISO 14764
- HÃ¬nh 2.3: Qui trÃ¬nh Agile-inspired
- HÃ¬nh 4.1: Wireframe frmBanLe
- HÃ¬nh 4.3: Class Diagram YC2
- HÃ¬nh 4.4: Sequence Diagram YC2

---

**TÃ€I LIá»†U THAM KHáº¢O**

1. ISO/IEC/IEEE 14764:2006 - Software Maintenance
2. IFPUG Counting Practices Manual (CPM) Release 4.3.1
3. Martin Fowler, "Refactoring: Improving the Design of Existing Code", 1999
4. Allan Albrecht, "Measuring Application Development Productivity", IBM, 1979
5. VAS 02 - Chuáº©n má»±c Káº¿ toÃ¡n Viá»‡t Nam vá» HÃ ng tá»“n kho
